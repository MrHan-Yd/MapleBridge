<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="priv.backend.mapper.UserMapper">
    <!--SQL-->

    <!--SQL-->

    <!--Map-->
        <!--用户Map-->
        <resultMap id="getAllUserMap" type="RespUserVO">
            <id property="id" column="id" />
            <result property="account" column="account" />
            <result property="email" column="email" />
            <result property="nickname" column="nickname" />
            <result property="gender" column="gender" />
            <result property="birthday" column="birthday" />
            <result property="experience" column="experience" />
            <result property="registerTime" column="register_time" />
            <result property="statusId" column="status_id" />
            <result property="createId" column="create_id" />
            <result property="createTime" column="create_time" />
            <result property="updateId" column="update_id" />
            <result property="updateTime" column="update_time" />
            <association property="level" column="level_id"
                         select="priv.backend.mapper.UserLevelMapper.getLevelNameById" />
            <association property="role" column="role_id"
                         select="priv.backend.mapper.RoleMapper.getRoleById" />
        </resultMap>
        <!--用户Map-->
    <!--Map-->

    <!--Select-->
        <!--查询所有状态正常的用户-->
        <select id="getAllUser" resultMap="getAllUserMap">
            select
                id,
                account,
                email,
                nickname,
                gender,
                birthday,
                role_id,
                level_id,
                experience,
                register_time,
                status_id,
                create_id,
                create_time,
                update_id,
                update_time
            from user
            where status_id != '1755493103987208193'
        </select>
        <!--查询所有状态正常的用户-->
        <!--根据账号查询邮箱-->
        <select id="getEmailByAccount" resultType="String" parameterType="String">
            select
                email
            from user
            where account = #{value}
        </select>
        <!--根据账号查询邮箱-->
    <!--Select-->

    <!--Update-->

    <!--Update-->

    <!--Insert-->

    <!--Insert-->

    <!--Delete-->

    <!--Delete-->

</mapper>